# Compiler Architecture

[Prev]() [Next]()

The compiler is a relatively independent module. It is only responsible for processing source code, various assets generated by the editors, and the kernel, and integrating them into the final ROM file. The components involved in GB BASIC compilation and the compilation workflow are divided as follows.

1. **Tokenizer**: Responsible for decomposing multiâ€‘page source code in text form into a linear sequence of lexical units (tokens)
2. **Parser**: Parses the token sequence obtained from step 1 into an abstract syntax tree (AST)
3. **Compiler**: Compiles the AST obtained from step 2 into VM instructions
4. **Pipeline**: Processes assets such as tiles, maps, scenes, actors, and sound into binary resources usable on the target platform
5. **Emitter**: Merges the instructions from step 3 and the resources from step 4 into a single block of binary data
6. **Linker**: Links the compiled result from step 5 with the current project's kernel runtime, allocates the binary bytes into appropriate banks, and produces the final ROM

<img src="imgs/compiler-compiler-architecture.png" class="diagram-image diagram-schematic">

In the actual compiler implementation, parts of the above workflow may be merged or referred to differently. This does not affect understanding the compilation architecture of GB BASIC.

<!-- gem -->
