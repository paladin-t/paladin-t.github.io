<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tony Wang - Homepage</title>
  <link rel="shortcut icon" href="favicon.ico"/>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" type="text/css" href="bot.css">
</head>
<body onclick>
  <div class="sidenav">
    <p align="center" class="title">
      Contents
    </p>
    <a href="#top">* Home</a>
    <a href="#creative-kits">* Kits</a>
    <a href="#tiny-games-and-programs">* Tiny</a>
  </div>

  <div class="page">
    <a id="top" href="#top"></a>
    <p align="center" class="title">
      Tony Wang
    </p>

    <div class="content">
      <p align="left">
        <a href="https://store.steampowered.com/developer/tony">Steam</a> |
        <a href="https://tonywang.itch.io/">Itch</a> |
        <a href="https://twitter.com/wangrenxin">Twitter</a> |
        <a href="https://github.com/paladin-t">GitHub</a>
      </p>
      <div id="container">
        <div id="left">
          <img src="imgs/avatar.png" id="avatar">
        </div>
        <div id="right">
          As an independent developer, I make video games and development tools. Here are some of my creations.
        </div>
      </div>

      <p align="center"></p>
        <div id="output-box">
        </div>
        <div id="input-box">
          <div id="input-message">
            <input type="text" id="message" placeholder="Enter your message...">
          </div>
          <div id="input-send">
            <button class="button" id="send">Talk</button>
          </div>
        </div>
      </p>

      <hr>

      <h2>
        <a id="creative-kits" href="#creative-kits"></a>
        Creative kits
      </h2>

      <p align="center">
        <img src="imgs/screenshots/bitty.gif" class="box">
      </p>
      <p align="left">
        <a href="https://paladin-t.github.io/bitty/">Bitty Engine</a>
        - An itty bitty Game Engine, with built-in editors, programmable in Lua.
      </p>

      <hr class='hr'>

      <p align="center">
        <img src="imgs/screenshots/basic8.png" class="box">
      </p>
      <p align="left">
        <a href="https://paladin-t.github.io/b8/">BASIC8</a>
        - An integrated Fantasy Computer for game and other program development. You can create, share and play disks in a modern BASIC dialect, with built-in tools for editing sprite, tiles, map, quantized, etc.
      </p>

      <hr class='hr'>

      <p align="center">
        <img src="imgs/screenshots/crapht.png" class="box">
      </p>
      <p align="left">
        <a href="https://paladin-t.github.io/crft/">Crapht Box</a>
        - A Fantasy Physics Sandbox, inspired by the Fantasy Console genre. It brings a simulated world with a number of disks and tools, and leaves you to play, program, create and share disks.
      </p>

      <hr>

      <h2>
        <a id="tiny-games-and-programs" href="#tiny-games-and-programs"></a>
        Tiny games and programs
      </h2>

      <p align="center">
        <img src="imgs/screenshots/can.gif" class="box-small">
      </p>
      <p align="left">
        <a href="https://tonywang.itch.io/can">Canned Monsters</a>
        - Procedurally generated monsters in a sardines can.
      </p>

      <hr class='hr'>

      <p align="center">
        <img src="imgs/screenshots/dice.gif" class="box-small">
      </p>
      <p align="left">
        <a href="https://tonywang.itch.io/dice">Dice</a>
        - A 3D dice program.
      </p>

      <hr class='hr'>

      <p align="center">
        <img src="imgs/screenshots/tomato.gif" class="box-small">
      </p>
      <p align="left">
        <a href="https://tonywang.itch.io/tomato">Tomato Garden</a>
        - A Pomodoro time management application.
      </p>

      <hr class='hr'>

      <span class="more" id="more-tiny">
        <p align="center">
          <img src="imgs/screenshots/capsule.png" class="box-small">
        </p>
        <p align="left">
          <a href="https://tonywang.itch.io/capsule">Capsule Rush</a>
          - Match-three to eliminate virus.
        </p>
      </span>
      <div class="more-button">
        <button class="button" id="toggle-tiny">Show more...</button>
      </div>

      <hr>

      <p align="center">
        (C) 2018 - 2020 <a href="https://paladin-t.github.io/">Tony Wang</a>
      </p>
    </div>
  </div>
  <script src="utils.js"></script>
  <script src="bot.js"></script>
  <script src="patterns.js"></script>
  <script src="toby.js" defer></script>
  <script type="text/javascript">
    /**< Chatbot. */
    var button = document.getElementById('send');
    var input = document.getElementById('message');
    var output = document.getElementById('output-box');

    var mute = false;
    var bot = new Bot.Bot();
    Patterns.patterns.forEach(function (pattern) {
      bot.learn(pattern);
    });

    function say (words) {
      try {
        words = words
          .replaceAll('\n', '')
          .replaceAll('&emsp;', '')
          .replaceAll('&ensp;', '');
        var open = words.indexOf('<');
        var close = words.lastIndexOf('>');
        if (open >= 0 && close >= 0) {
          open = words.substr(0, open);
          close = words.substr(close + 1);
          words = open + close;
        }
        setTimeout(function () {
          window.Speech.say(words);
        }, 500);
      } catch (ex) {
        console.warn('Speech error:\n  ' + ex.toString());
      }
    }

    function send () {
      var req = input.value;
      if (!req || req.length == 0)
        return;

      output.innerHTML += '<br>You: ' + req + '<br>';
      output.scrollTop = output.scrollHeight;
      input.value = '';

      var words = '';
      bot.think(req, function (rsp) {
        window.Speech && window.Speech.setup();

        if (req == 'mute')
          mute = true;
        else if (req == 'unmute')
          mute = false;
        words += rsp + ' ';

        rsp = rsp.replace('\n', '<br>');
        setTimeout(function () {
          output.innerHTML += 'Bot: ' + rsp + '<br>';
          output.scrollTop = output.scrollHeight;
        }, 500);
      });

      if (!mute && window.Speech)
        say(words);
    }

    button.onclick = send;
    input.addEventListener('keyup', function (event) {
      if (event.key === 'Enter') {
        send();
      }
    });
    output.innerHTML += 'Tony: ';
    output.innerHTML += 'You can also chat with my agent bot, ';
    output.innerHTML += 'or get my contact information from him. ';
    output.innerHTML += 'He\'s been doing a good job, although he\'s a bit of a martinet.<br>';

    /**< Show more buttons. */
    function toggle (btn_id, more_id) {
      var more = document.getElementById(more_id);
      var btn = document.getElementById(btn_id);
      btn.onclick = function () {
        if (!more.style.display || more.style.display === 'inline-block') {
          more.style.display = 'inline';
          btn.innerHTML = 'Show less';
        } else {
          more.style.display = 'inline-block';
          btn.innerHTML = 'Show more...';
        }
      };
    }

    toggle('toggle-tiny', 'more-tiny');
  </script>
</body>
</html>
